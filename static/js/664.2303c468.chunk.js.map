{"version":3,"file":"static/js/664.2303c468.chunk.js","mappings":"gYAGaA,EAAOC,EAAAA,EAAAA,KAAH,qWAcJC,EAAQD,EAAAA,EAAAA,MAAH,kGAOLE,EAAeF,EAAAA,EAAAA,KAAH,oEAKZG,EAAQH,EAAAA,EAAAA,MAAH,sPAOL,qBAAGI,SACD,oBAAsB,mBADxB,IAKE,qBAAGA,SACD,oBAAsB,mBADxB,IAMFC,EAAYL,EAAAA,EAAAA,OAAH,odAyBTM,EAAoBN,EAAAA,EAAAA,KAAH,8D,wLClDxBO,EAIGC,EAAAA,KAAaC,MAAM,CACxBC,MAAOF,EAAAA,KACJG,SAAS,sBACTC,QALH,uJAKwB,gCACxBC,SAAUL,EAAAA,KAAaG,SAAS,yBAAyBG,IAAI,KAI3DC,EAAe,CACnBC,cAAe,CAAEN,MAAO,GAAIG,SAAU,IACtCI,KAAM,YACNC,UAAUC,EAAAA,EAAAA,GAAYZ,IAGXa,EAAY,WAAO,IAAD,IACvBC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,iBACxBC,GAAWC,EAAAA,EAAAA,MAEjB,GAKIC,EAAAA,EAAAA,IAAQX,GALZ,IACEY,UAAaC,EADf,EACeA,OAAQC,EADvB,EACuBA,QAASC,EADhC,EACgCA,QAC9BC,EAFF,EAEEA,SACAC,EAHF,EAGEA,aACAC,EAJF,EAIEA,MAaF,OACE,UAAC,EAAAlC,KAAD,CAAMmC,SAAUF,GAXD,SAAAG,GACfX,GAASY,EAAAA,EAAAA,WAAUD,IAChBE,SACAC,MAAK,SAAAC,GACJC,EAAAA,GAAAA,QAAA,oBAA2BD,EAASE,KAAKC,KAAzC,MACAT,GACD,IACAU,OAAM,kBAAMH,EAAAA,GAAAA,MAAY,yCAAlB,GACV,IAGC,WACE,UAAC,EAAAvC,MAAD,YACE,SAAC,EAAAC,aAAD,qBACA,SAAC,EAAAC,OAAD,QACEyC,KAAK,QACLF,KAAK,QACLtC,SAAUwB,EAAOlB,OACbqB,EAAS,WAEdH,EAAOlB,QACN,SAAC,EAAAJ,kBAAD,oBAAoBsB,EAAOlB,aAA3B,aAAoB,EAAcmC,cAItC,UAAC,EAAA5C,MAAD,YACE,SAAC,EAAAC,aAAD,wBACA,SAAC,EAAAC,OAAD,QACEyC,KAAK,WACLF,KAAK,WACLtC,SAAUwB,EAAOf,UACbkB,EAAS,cAEdH,EAAOf,WACN,SAAC,EAAAP,kBAAD,oBAAoBsB,EAAOf,gBAA3B,aAAoB,EAAiBgC,cAIzC,SAAC,EAAAxC,UAAD,CAAWuC,KAAK,SAASE,UAAWhB,IAAYD,GAAWR,EAA3D,SACGA,GAAY,SAAC,EAAA0B,eAAD,IAAqB,aAIzC,C,8FC3FYC,EAAY,WACvB,OAAO,SAAC,EAAA5B,UAAD,GACR,C","sources":["components/Common/FormsComponents.styled.jsx","components/LoginForm/LoginForm.jsx","pages/LoginPage/LoginPage.jsx"],"sourcesContent":["// Libs\nimport styled from '@emotion/styled';\n\nexport const Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  width: 100%;\n  padding: 16px;\n  border: 1px solid #505050;\n  border-radius: 12px;\n  background-color: #f8f8ff;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nexport const Label = styled.label`\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  width: 100%;\n`;\n\nexport const InputHeading = styled.span`\n  padding-left: 16px;\n  font-weight: 700;\n`;\n\nexport const Input = styled.input`\n  height: 32px;\n  padding: 16px;\n  font-size: 16px;\n  color: #505050;\n  border: none;\n  border-radius: 8px;\n  outline: ${({ validate }) =>\n    validate ? '1px solid #fc8181' : '1px solid #505050'};\n  outline-offset: -1px;\n\n  &:focus {\n    outline: ${({ validate }) =>\n      validate ? '2px solid #fc8181' : '2px solid #505050'};\n    outline-offset: -2px;\n  }\n`;\n\nexport const SubmitBtn = styled.button`\n  height: 32px;\n  padding: 4px 12px;\n  min-width: 110px;\n  text-transform: uppercase;\n  font-weight: 700;\n  background-color: #008000;\n  color: #ffffff;\n  text-shadow: 1px 1px 2px #505050;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: background-color 250ms linear;\n\n  &:hover,\n  &:focus {\n    background-color: #006f00;\n  }\n\n  &:disabled {\n    cursor: initial;\n    background-color: #505050;\n  }\n`;\n\nexport const ValidationMessage = styled.span`\n  padding: 0 16px;\n  color: #fc8181;\n`;\n","// Libs\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n// Redux selectors\nimport { selectIsLoading } from 'redux/auth/authSelectors';\n// Redux operations\nimport { logInUser } from 'redux/auth/authOperations';\n// React components\nimport { CenteredLoader } from 'components/Loaders/Loaders';\n// Styled components\nimport {\n  Form,\n  Label,\n  InputHeading,\n  Input,\n  SubmitBtn,\n  ValidationMessage,\n} from 'components/Common/FormsComponents.styled';\n\nconst validationSchema = (() => {\n  const emailRegExp =\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n  return Yup.object().shape({\n    email: Yup.string()\n      .required('Email is required.')\n      .matches(emailRegExp, 'Email must be a valid email.'),\n    password: Yup.string().required('Password is required.').min(8),\n  });\n})();\n\nconst formSettings = {\n  defaultValues: { email: '', password: '' },\n  mode: 'onTouched',\n  resolver: yupResolver(validationSchema),\n};\n\nexport const LoginForm = () => {\n  const isLoading = useSelector(selectIsLoading);\n  const dispatch = useDispatch();\n\n  const {\n    formState: { errors, isDirty, isValid },\n    register,\n    handleSubmit,\n    reset,\n  } = useForm(formSettings);\n\n  const onSubmit = formData => {\n    dispatch(logInUser(formData))\n      .unwrap()\n      .then(response => {\n        toast.success(`Wellcome, ${response.user.name}!`);\n        reset();\n      })\n      .catch(() => toast.error('Login error - wrong email or password.'));\n  };\n\n  return (\n    <Form onSubmit={handleSubmit(onSubmit)}>\n      <Label>\n        <InputHeading>Email</InputHeading>\n        <Input\n          type=\"email\"\n          name=\"email\"\n          validate={errors.email}\n          {...register('email')}\n        />\n        {errors.email && (\n          <ValidationMessage>{errors.email?.message}</ValidationMessage>\n        )}\n      </Label>\n\n      <Label>\n        <InputHeading>Password</InputHeading>\n        <Input\n          type=\"password\"\n          name=\"password\"\n          validate={errors.password}\n          {...register('password')}\n        />\n        {errors.password && (\n          <ValidationMessage>{errors.password?.message}</ValidationMessage>\n        )}\n      </Label>\n\n      <SubmitBtn type=\"submit\" disabled={!isValid || !isDirty || isLoading}>\n        {isLoading ? <CenteredLoader /> : 'Log in'}\n      </SubmitBtn>\n    </Form>\n  );\n};\n","// React components\nimport { LoginForm } from 'components/LoginForm/LoginForm';\n\nexport const LoginPage = () => {\n  return <LoginForm />;\n};\n"],"names":["Form","styled","Label","InputHeading","Input","validate","SubmitBtn","ValidationMessage","validationSchema","Yup","shape","email","required","matches","password","min","formSettings","defaultValues","mode","resolver","yupResolver","LoginForm","isLoading","useSelector","selectIsLoading","dispatch","useDispatch","useForm","formState","errors","isDirty","isValid","register","handleSubmit","reset","onSubmit","formData","logInUser","unwrap","then","response","toast","user","name","catch","type","message","disabled","CenteredLoader","LoginPage"],"sourceRoot":""}